<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
	<link href="css/style.css" rel="stylesheet">
	<!-- Load c3.css -->
	<link href="css/c3.css" rel="stylesheet" type="text/css">
	<!-- Load d3.js ,c3.js and jQuery -->
	<script src="js/d3.min.js" charset="utf-8" type="text/javascript"></script>
	<script src="js/c3.min.js" type="text/javascript"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

	<title>Spark data</title>
	<style type="text/css" media="screen">
	.chart {
		width: 800px;
		height: 600px;
		margin: auto;
		padding-top: 2em;
	}
  h3 {
    text-align: center;
    margin:auto;
    padding-top: 2em;
  }
	</style>
</head>
<body>
<header>
  <a class="padding-L1" href="http://arlab093.austin.ibm.com/">Jeremy's site</a>
  <a class="padding-L1" href="http://arlab093.austin.ibm.com/blog">Jeremy's blog</a>
  <a class="padding-L1" href="http://arlab093.austin.ibm.com/schaubj/chart">All data charts</a>
  <span class="date">TODAY'S DATE</span>
</header>
	<h1 class="title">WORKLOAD NAME</h1>
  
  <h3 id="cpu_title">CPU</h3>
  <div id="id_cpu"></div>
  <h3 id="mem_title">Memory</h3>
  <div id="id_mem"></div>
  
  <script type="text/javascript">
    var id_list = ["COUNT=8192", "COUNT=16384"]
    
    for (i in id_list){
      create_button(i, id_list)
    }
    var cpu_csv_fn = id_list[0] + '.cpu_pct.csv';
    var mem_csv_fn = id_list[0] + '.mem_pct.csv';
    
    function create_button(i, id_list){
      var id = id_list[i];
      var button_id = button + String(i);
      var button = $('<button></button>', {
        id:button_id,
        text:id
      }).insertBefore('#cpu_title');
      
      $("#" + button_id).on('click', function(){
        setTimeout(function () {
          cpu_chart.unload();
          mem_chart.unload();
        }, 500);
        setTimeout(function () {
          cpu_chart.load({
              url: id + '.cpu_pct.csv'
          });
          mem_chart.load({
              url: id + '.mem_pct.csv'
          });
        }, 1000);
      })
      
    }
    
  </script>
	<script src='js/charts.js' type='text/javascript'> </script>
</body>
</html>

